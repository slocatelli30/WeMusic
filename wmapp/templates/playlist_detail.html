{% extends "base_generic.html" %}

{% block content %}

<!-- titolo pagina -->
<h1>{{playlist.name}}</h1>

<!-- tabella della playlist selezionata contenente i brani -->
<table class="table table-striped" style="background-color: white;">
    <!-- table head -->
    <thead>
      <tr>
        <!-- Titolo -->
        <th scope="col">Titolo</th>
        <!-- Genere -->
        <th scope="col">Genere</th>
        <!-- Anno -->
        <th scope="col">Anno</th>
        <!-- Rimuovi -->
        <th scope="col">Rimuovi</th>
        <!-- Download -->
        <th scope="col">Download</th>
      </tr>
    </thead>

    <!-- table body -->
    <tbody>
        <!-- foreach -->
        {% for s in songs %}
            <tr>
                <!-- titolo -->
                <td><a href="{% url 'song_detail' s.id %}" class="btn btn-primary"><b>{{s.title}}</b></a></td>
                <!-- genere -->
                <td>{{s.genre}}</td>
                <!-- anno -->
                <td>{{s.year}}</td>
                <!-- remove -->
                <td>
                    <form action="{% url 'remove_song_from_playlist' playlist.id s.id %}" method="post">
                        {% csrf_token %}
                        <button type="submit" value="remove" class="btn"><img src="../../static/icons/x.svg" style="width: 20px;" alt="x.svg not found"></button>
                    </form>
                </td>
                <!-- download -->
                <td>
                    <a href="{{s.file.url}}" download class="btn"><img src="../../static/icons/download.svg" style="width: 20px;" alt="download.svg not found"></a>
                </td> 
            </tr>
        {% endfor %}
    </tbody>
</table>

<form action="{% url 'delete_playlist' playlist.id %}" method="post">
    {% csrf_token %}
    <button type="submit" value="delete" class="btn btn-danger"><b>Elimina playlist {{playlist.name}}</b> <i class="fa fa-trash"></i></button>
</form>

{% endblock %}